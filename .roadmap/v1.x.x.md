# Bun Server Framework - v1.x.x 汇总清单

> 本文档汇总 v1.0.0 中未完成的功能，按优先级和版本规划整理

## 📋 未完成功能清单

### 🔴 高优先级（v1.0.0 遗留）

#### 数据库相关

- [ ] **关系映射支持**
  - [ ] `@OneToMany` 装饰器
  - [ ] `@ManyToOne` 装饰器
  - [ ] `@ManyToMany` 装饰器
  - [ ] 关系查询支持
  - [ ] 延迟加载支持

#### 测试相关

- [ ] **测试覆盖率提升**
  - [ ] 整体测试覆盖率提升至 85%+
  - [ ] 补充核心模块边界测试
  - [ ] PostgreSQL/MySQL 数据库集成测试（当前只有 SQLite 测试）
  - [ ] 添加端到端测试（E2E）
  - [ ] 添加性能回归测试

---

### 🟡 中优先级

#### 性能优化

- [ ] **路由匹配性能优化**
- [ ] **中间件管道性能优化**
- [ ] **DI 容器性能优化**
- [ ] **内存使用优化**
- [ ] **添加性能基准测试**

---

### 🟢 低优先级

#### 开发工具

- [ ] **TypeScript 类型增强**
  - [ ] 更好的类型推断
  - [ ] 类型安全的路由定义
- [ ] **开发模式增强**
  - [ ] 热重载支持
  - [ ] 开发模式错误提示
  - [ ] 调试工具集成

---

### ⚪ 可选功能

#### 数据库迁移工具（MigrationModule）

- [ ] 实现 MigrationModule
  - [ ] 迁移文件管理
  - [ ] 迁移 CLI 工具（`bun-server migrate`）
  - [ ] 版本控制
  - [ ] 回滚支持
  - [ ] 迁移状态跟踪
- [ ] 集成到 DatabaseModule
- [ ] 提供示例和文档

**预计版本**：v1.2.0

#### CLI 工具

- [ ] **项目脚手架**（`bun-server new`）
  - [ ] 创建新项目模板
  - [ ] 选择模块（Config, Health, Metrics, Database, etc.）
  - [ ] 生成基础项目结构
- [ ] **代码生成器**（`bun-server generate`）
  - [ ] Controller 生成（`bun-server generate controller UserController`）
  - [ ] Service 生成（`bun-server generate service UserService`）
  - [ ] Module 生成（`bun-server generate module UserModule`）
  - [ ] Entity 生成（`bun-server generate entity User`）
- [ ] **数据库迁移 CLI**（`bun-server migrate`）
  - [ ] 创建迁移文件
  - [ ] 运行迁移
  - [ ] 回滚迁移
  - [ ] 查看迁移状态

**预计版本**：v1.3.0

#### 缓存系统（CacheModule）

- [ ] 实现缓存抽象接口
- [ ] 内存缓存实现
- [ ] Redis 缓存实现
- [ ] 装饰器支持：`@Cacheable()`, `@CacheEvict()`, `@CachePut()`

**预计版本**：v1.4.0

#### 任务队列（QueueModule）

- [ ] 实现任务队列抽象
- [ ] 内存队列实现
- [ ] BullMQ 集成
- [ ] 定时任务支持（Cron）
- [ ] 装饰器支持：`@Queue()`, `@Cron()`
- [ ] 异步任务处理

**预计版本**：v1.5.0

#### Session 管理（SessionModule）

- [ ] 实现 Session 存储抽象
- [ ] 内存 Session 实现
- [ ] Redis Session 实现
- [ ] Session 中间件
- [ ] 装饰器支持：`@Session()`

**预计版本**：v1.6.0

#### GraphQL 支持

- [ ] GraphQL 服务器集成
- [ ] Schema 定义
- [ ] Resolver 装饰器
- [ ] GraphQL Playground 集成

**预计版本**：v1.7.0

#### RateLimit Redis 后端支持

- [ ] Redis 后端支持
- [ ] Redis 存储实现（RedisRateLimitStore）

**预计版本**：v1.8.0

#### 国际化（i18n）

- [ ] 实现 i18n 模块
- [ ] 消息本地化
- [ ] 日期/数字格式化
- [ ] 装饰器支持：`@I18n()`

**预计版本**：v1.9.0

#### 模板引擎

- [ ] 服务端渲染支持
- [ ] 模板引擎集成（如 EJS, Handlebars）
- [ ] 模板渲染装饰器支持

**预计版本**：v1.10.0

#### 部署工具

- [ ] Docker 镜像构建
- [ ] 部署脚本
- [ ] 环境配置管理

**预计版本**：v1.11.0

---

## 📝 说明

1. **优先级分类**：
   - 🔴 高优先级：v1.0.0 遗留的重要功能
   - 🟡 中优先级：重要但非紧急的功能
   - 🟢 低优先级：提升开发体验的功能
   - ⚪ 可选功能：根据需求决定是否实现

2. **版本规划**：
   - 各功能的预计版本仅供参考，实际版本可能根据优先级和需求调整
   - 微服务相关功能（Nacos、服务注册与发现）将在 v1.1.x 重点实现

3. **完成标准**：
   - 每个功能都需要完整的测试覆盖
   - 每个功能都需要完整的文档和示例
   - 每个功能都需要遵循框架的代码规范和最佳实践

---

## 🔗 相关资源

- [v1.0.0 Roadmap](./v1.0.0.md)
- [v1.1.x Roadmap](./v1.1.x.md) - 微服务支持
- [API 文档](../docs/api.md)
- [使用指南](../docs/guide.md)
